# 다마고치 키우기 👾

## 프로젝트 설명
다마고치에게 밥알과 물을 줘서 레벨업을 해보자

- 선택하기 화면
  - 선택하기 화면에서 원하는 다마고치를 선택한다.
  - 다마고치를 선택하면 앱의 초기화면이 메인화면으로 바뀐다.
- 메인화면
  - 텍스트 필드가 비어있을 때 밥먹기 물먹기 버튼을 누르면 +1 씩 먹을 수 있다.
  - 반면 텍스트 필드에 먹이고 싶은 갯수를 기입하면 그 만큼 먹는다. 단 일정수준 이상의 밥알과 물은 한 번에 먹을 수 없다.
  - 다마고치의 말풍선은 앱을 켰을 때, 무언가를 먹을 때만 바뀐다.
- 설정창
  - 유저 네임을 바꿀 수 있다. 기본네임은 "대장"이다. 
      - 이름은 2글자 이상 6글자 이하이다.
      - 유저 네임은 메인화면 타이틀, 네임화면 말풍선, 설정창에서 유지된다.
  - 다마고치를 변경할 수 있는데 캐릭터를 변경할 뿐 데이터는 유지된다.
  - 다마고치 게임을 초기화 할 수 있다. 데이터가 초기화 된다. 

## 개발 환경
- iOS15로 설정 / 아이패드 고려 안함
- MacBook Air (M1, 2020)
- Language : swift
- Framwork : UIKit, Foundation
- Add Library : [Toast]("https://github.com/scalessec/Toast-Swift")

## 폴더 구성 및 화면구성
### InitialStart
- InitialStart : 초기화면 및 팝업화면 스토리보드
- InitialStartCollectionViewController : 초기 다마고치 선택화면
-  InitialStartCollectionViewCell : 선택화면에 대한 cell
- DetailPopoverViewController : 선택이후 다마고치 팝업화면(시작하기버튼 및 취소)
- TamagotchiIData : 다마고치에 대한 기본정보를 담은 
### main
- 메인화면을 위한 스토리보드 및 뷰컨
### settingChange
- Setting : 설정창 스토리보드 및 유저네임 변경화면
- NicknameViewController : 이름변경 화면
- SettingTableViewController : 설정화면 
### 화면구성
<img src="https://drive.google.com/uc?export=view&id=1jjZIpDnbj9-szkf4PdhBJkX3SOKuiwgP" width="500" height="220">

---




---
# 다마고치 소회
## 과제 기한이 끝났는데 나는 끝나지 않은. 
과제를 하면서 이걸 내가 해결할 수 있을까...하다가 몇시간뒤에 어찌어찌 해결하는 상황의 반복이었다.  
점점 일단 빌드가 되게만 하자라는 마인드로 임하게됐다.  
### 과제를 하면서 힘든점은
- 뷰가 로드되는 순서를 맞추는게 힘들었다(분명 나와야하는데 다른 뷰가 덮어버리는 등)
- 마지막 설정창에서 백버튼을 누르면 설정 셀이 계속 태초의 상태로 돌아온다 그리고 다시
셀을 터치하면 스레드가 "너 인덱스가 안맞아~"라는데 아직 찾지 못했다.
- 변수를 선언할 때 클래스의 프로퍼티로 해야할 지, 함수내에 선언하는게 나은지 고민스러웠다.
- 네비게이션을 많이 연결하니까 머리속에서 구조가 꼬여 얼마나 스택에서 쌓이고 있는지 감이 안왔다.

### 좋은 점
- 오토레이아웃을 아직도 힘들어하는데 많이 빨라졌다. 3시간이 1시간 된정도..?
나는 아이팟터와 아이패드도 프리뷰를 해서 살펴보는 편인데 뷰 객체간의 의존과 디바이스와의 의존을 잘 지정해야할 것 같다.  
지금 오토레이아웃도 살짝 자기 멋대로이다.
- 화면전환을 이해했다. 이해가 될 수 밖에 없는 시간이었다.
- 많은 메서드를 살펴봤던 것 같다. "이걸 애플이 안 줬을리가 없어, 이걸 사람들이 안 쓸까?"하면서 메서드를 꼼꼼하게
꽤 살펴봤다. 하지만 내 생각과 다른게 90프로정도..ㅎ 

리팩토링하면서 또 나를 많이 원망할 것 같다 내 뇌와 손구락 반성해...  

_궁금한 점과 과제 설계 및 과정 작성예정_

----

refactor하면서 새롭게 알게된 지점
- reload해줘야함 -> 이름을 바꾸면 셀에 반영이 안된는 문재ㅔ
- 데이터를 따로 담아주는게 좋음
- root뷰는 처음 로드될 때 이후로 willApear
- 디버깅
- cellRowAt과 didSelectRowAt은 한 셀마다 적용되는 것이니까 cell 전체에 적용할 코드가 없다면 그냥 index로 해줘도 괜찮음
- 무언가 안 바뀔 때는 시점이 맞는지, 고정값으로 어디에 해두지 않았는지 확인하기 -> 두번째 이름이 바뀌는 문제
- 그리고 셀이 회색이었던거는 선택된 상태를 의미하는 거였음..오류가 아니라,,  
    `cell.setSelected(false, animated: false)` 이거 작성해주면 됨 -> 셀색이 선택하면 회색인 이유
- 셀의 내용이 변경이 되면 무조건 reload해줘야함(뷰를 재 세팅해줌)


추가 변경해야하는 사항
- 변경하기 버튼을 누르고 다마고치를 변경하면 레벨이 처음 로드됐을 때 1임 -> level, lavel 섞어서 사용 내 손꾸락...반성해...

### 개인 fix
- 이르 반영 안됨
- 설정창에서 셀 클릭시 스토리보드상 셀의 이미지 나오는 것
- 다른 다마고치로 바꿨을 때 레벨이 1로 변하고 버튼을 클릭하면 기존의 레벨ㄹ 돌아옴


